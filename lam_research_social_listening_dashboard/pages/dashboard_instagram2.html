<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Instagram Overview - Prowess Social Listening</title>
    <link rel="stylesheet" href="../css/main.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-WD5Q1BE2NM"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-WD5Q1BE2NM');
</script>
<body class="bg-background font-inter">
    <!-- Ultra-narrow hover trigger zone for sidebar (reduced from 50px) -->
    <div id="sidebarTrigger" style="position: fixed; left: 0; top: 0; width: 10px; height: 100vh; z-index: 50; background: transparent; cursor: default;"></div>
    
    <!-- Sidebar Navigation -->
    <aside id="sidebar" class="w-1/4 bg-surface shadow-card border-r border-border-light fixed h-full overflow-y-auto z-40 transition-all duration-300 ease-in-out" style="transform: translateX(-100%);">
        <!-- Logo Section -->
        <div class="p-6 border-b border-border-light">
            <a href="dashboard_overview.html" style="text-decoration: none;">
              <div style="display: flex; align-items: center; justify-content: center; margin-bottom: 12px; cursor: pointer;">
                <img src="../../prowess logo.png" alt="Prowess Logo" style="width: 200px; height: 100px; object-fit: contain;">
              </div>
            </a>
        </div>

        <!-- Navigation Menu -->
        <nav class="p-4">
            <!-- Your Company Section -->
            <div class="mb-6">
                <h3 class="text-sm font-medium text-text-secondary uppercase tracking-wide mb-3">Your Company</h3>
                <ul class="space-y-1">
                    <li>
                        <a href="dashboard_overview.html" class="flex items-center px-3 py-2 text-sm font-medium text-text-secondary hover:text-text-primary hover:bg-secondary-50 rounded-md transition-fast">
                            <svg class="w-4 h-4 mr-3" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"/>
                            </svg>
                            Sentiment
                        </a>
                    </li>
                    <li>
                        <a href="dashboard_facebook2.html" class="flex items-center px-3 py-2 text-sm font-medium text-text-secondary hover:text-text-primary hover:bg-secondary-50 rounded-md transition-fast">
                            <svg class="w-4 h-4 mr-3" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
                            </svg>
                            Engagement
                        </a>
                    </li>
                </ul>
            </div>

            <!-- Competitors Company Section -->
            <div>
                <h3 class="text-sm font-medium text-text-secondary uppercase tracking-wide mb-3">Competitors Company</h3>
                <ul class="space-y-1">
                    <li>
                        <a href="competitor_analysis.html" class="flex items-center px-3 py-2 text-sm font-medium text-text-secondary hover:text-text-primary hover:bg-secondary-50 rounded-md transition-fast">
                            <svg class="w-4 h-4 mr-3" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M9 11H7v9h2v-9zm4 0h-2v9h2v-9zm4 0h-2v9h2v-9zm2.5-5H18V4c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v2H4.5c-.83 0-1.5.67-1.5 1.5S3.67 9 4.5 9H6v10c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V9h1.5c.83 0 1.5-.67 1.5-1.5S20.33 6 19.5 6zM10 4h4v2h-4V4z"/>
                            </svg>
                            Competitor Analysis
                        </a>
                    </li>
                </ul>
            </div>
        </nav>
    </aside>

    <!-- Main Content Area -->
    <main id="mainContent" class="flex-1 ml-1/4 p-6 transition-all duration-300 ease-in-out">
        <!-- Header Section with Logo and Date Filter -->
        <div class="flex items-center justify-between mb-6">
            <!-- Left side - Logo -->
            <div class="flex items-center">
                <a href="dashboard_overview.html" style="text-decoration: none;">
                    <div style="display: flex; align-items: center; cursor: pointer;">
                        <img src="../../prowess logo.png" alt="Prowess Logo" style="width: 200px; height: 100px; object-fit: contain;">
                    </div>
                </a>
            </div>
            
            <!-- Right side - Date Filter -->
            <div class="flex items-center space-x-4">
                <!-- Date Range Filter -->
                <div class="flex items-center space-x-3 bg-surface rounded-lg shadow-card p-3 border border-border-light">
                    <div class="flex items-center space-x-2">
                        <label class="text-sm font-medium text-text-secondary">FROM:</label>
                        <input type="date" id="dateFrom" class="px-3 py-2 text-sm border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent bg-white" value="2024-01-01">
                    </div>
                    <div class="text-text-secondary">—</div>
                    <div class="flex items-center space-x-2">
                        <label class="text-sm font-medium text-text-secondary">TO:</label>
                        <input type="date" id="dateTo" class="px-3 py-2 text-sm border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent bg-white" value="2024-12-31">
                    </div>
                    <button id="applyDateFilter" class="px-4 py-2 text-sm font-medium text-white bg-primary rounded-md hover:bg-primary-600 transition-fast flex items-center">
                        <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>
                        </svg>
                        Apply
                    </button>
                </div>
                <!-- Export Report Button -->
                <a href="../public/competitor_analysis_data.zip" download class="px-4 py-2 text-sm font-medium text-text-secondary bg-surface border border-border rounded-md hover:bg-secondary-50 transition-fast flex items-center">
                    <svg class="w-4 h-4 inline mr-2" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M5 20h14v-2H5v2zm7-18v12m0 0l-4-4m4 4l4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
                    </svg>
                    Export Report
                </a>
            </div>
        </div>
            <!-- Filter Bar -->
            <div class="flex flex-wrap items-center justify-between gap-4 bg-surface rounded-lg shadow-card p-4 border border-border-light mb-6">
                <!-- Facebook -->
                <a href="dashboard_facebook2.html" class="platform-btn" title="Facebook" aria-label="Facebook">
                    <img src="../public/facebook.png" alt="Facebook" style="width:40px; height:40px;">
                </a>
                <!-- X -->
                <a href="dashboard_x2.html" class="platform-btn" title="X" aria-label="X">
                    <img src="../public/x.png" alt="X" style="width:40px; height:40px;">
                </a>
                <!-- Instagram -->
                <a href="dashboard_instagram2.html" class="platform-btn" title="Instagram" aria-label="Instagram">
                    <img src="../public/instagram.png" alt="Instagram" style="width:40px; height:40px;">
                </a>
                <!-- Reddit -->
                <a href="dashboard_reddit2.html" class="platform-btn" title="Reddit" aria-label="Reddit">
                    <img src="../public/reddit.png" alt="Reddit" style="width:40px; height:40px;">
                </a>
                <!-- LinkedIn -->
                <a href="dashboard_linkedin2.html" class="platform-btn" title="LinkedIn" aria-label="LinkedIn">
                    <img src="../public/linkedin.png" alt="LinkedIn" style="width:40px; height:40px;">
                </a>
            </div>
            <div id="performanceView">
                <!-- COMPREHENSIVE INSTAGRAM ANALYTICS - Enhanced Deep Charts Section -->
                
                <!-- Instagram header removed per request -->

                <!-- Platform Performance Metrics -->
                <div class="flex flex-row gap-2 mb-8" style="flex-wrap: nowrap;">
                    <!-- Visual Appeal -->
                    <div class="flex-1 bg-surface rounded-lg shadow-card p-3 border border-border-light hover:shadow-lg hover:-translate-y-0.5 transition-all duration-300" style="flex: 1 1 20%; min-width: 0;">
                        <div class="flex items-center justify-between">
                            <div class="flex-1">
                                <h4 class="text-xs font-medium text-text-secondary mb-1">Visual Appeal</h4>
                                <p id="visualValue" class="text-lg font-bold text-text-primary mb-2">2.1M</p>
                                <div class="flex items-center">
                                    <span id="visualChange" style="background:none;color:#16a34a;" class="inline-flex items-center text-xs font-medium">
                                        <svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 20 20">
                                            <path fill-rule="evenodd" d="M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z" clip-rule="evenodd"/>
                                        </svg>
                                        +14.2% vs last month
                                    </span>
                                </div>
                            </div>
                            <div class="w-8 h-8 bg-primary-100 rounded-lg flex items-center justify-center">
                                <svg class="w-4 h-4 text-primary-600" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M9 2l3 2 3-2v4.57C15 8.17 13.83 9 12.5 9S10 8.17 10 6.57V2z M12 10.5c2.33 0 4.5-1.17 4.5-3.5V4l3 2v14l-3-2v-3c0 2.33-2.17 3.5-4.5 3.5S7.5 17.33 7.5 15v3l-3 2V6l3-2v3c0 2.33 2.17 3.5 4.5 3.5z"/>
                                </svg>
                            </div>
                        </div>
                    </div>

                    <!-- Engagement Rate -->
                    <div class="flex-1 bg-surface rounded-lg shadow-card p-3 border border-border-light hover:shadow-lg hover:-translate-y-0.5 transition-all duration-300" style="flex: 1 1 20%; min-width: 0;">
                        <div class="flex items-center justify-between">
                            <div class="flex-1">
                                <h4 class="text-xs font-medium text-text-secondary mb-1">Engagement Rate (Avg.)</h4>
                                <p id="engagementValue" class="text-lg font-bold text-text-primary mb-2">6.8%</p>
                                <div class="flex items-center">
                                    <span id="engagementChange" style="background:none;color:#16a34a;" class="inline-flex items-center text-xs font-medium">
                                        <svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 20 20">
                                            <path fill-rule="evenodd" d="M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z" clip-rule="evenodd"/>
                                        </svg>
                                        +3.4% vs last month
                                    </span>
                                </div>
                            </div>
                            <div class="w-8 h-8 bg-accent-100 rounded-lg flex items-center justify-center">
                                <svg class="w-4 h-4 text-accent-600" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
                                </svg>
                            </div>
                        </div>
                    </div>

                    <!-- Total Followers -->
                    <div class="flex-1 bg-surface rounded-lg shadow-card p-3 border border-border-light hover:shadow-lg hover:-translate-y-0.5 transition-all duration-300" style="flex: 1 1 20%; min-width: 0;">
                        <div class="flex items-center justify-between">
                            <div class="flex-1">
                                <h4 class="text-xs font-medium text-text-secondary mb-1">Total Followers</h4>
                                <p id="followersValue" class="text-lg font-bold text-text-primary mb-2">1.9M</p>
                                <div class="flex items-center">
                                    <span id="followersChange" style="background:none;color:#16a34a;" class="ml-2 inline-flex items-center text-xs font-medium flex items-center">
                                        <svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 20 20">
                                            <path fill-rule="evenodd" d="M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z" clip-rule="evenodd"/>
                                        </svg>
                                        +28.3% vs last month
                                    </span>
                                </div>
                            </div>
                            <div class="w-8 h-8 bg-secondary-100 rounded-lg flex items-center justify-center">
                                <svg class="w-4 h-4 text-secondary-600" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                                </svg>
                            </div>
                        </div>
                    </div>

                    <!-- Total Posts -->
                    <div class="flex-1 bg-surface rounded-lg shadow-card p-3 border border-border-light hover:shadow-lg hover:-translate-y-0.5 transition-all duration-300" style="flex: 1 1 20%; min-width: 0;">
                        <div class="flex items-center justify-between">
                            <div class="flex-1">
                                <h4 class="text-xs font-medium text-text-secondary mb-1">Total Posts</h4>
                                <p id="postsValue" class="text-lg font-bold text-text-primary mb-2">1,247</p>
                                <div class="flex items-center">
                                    <span id="postsChange" style="background:none;color:#16a34a;" class="ml-2 inline-flex items-center text-xs font-medium flex items-center">
                                        <svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 20 20">
                                            <path fill-rule="evenodd" d="M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z" clip-rule="evenodd"/>
                                        </svg>
                                        +7.2% vs last month
                                    </span>
                                </div>
                            </div>
                            <div class="w-8 h-8 bg-success-100 rounded-lg flex items-center justify-center">
                                <svg class="w-4 h-4 text-success-600" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M4 3h16a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zM5 5v14h14V5H5zm7 10l-4-4h3V8h2v3h3l-4 4z"/>
                                </svg>
                            </div>
                        </div>
                    </div>

                    <!-- Saves (new) -->
                    <div class="flex-1 bg-surface rounded-lg shadow-card p-3 border border-border-light hover:shadow-lg hover:-translate-y-0.5 transition-all duration-300" style="flex: 1 1 20%; min-width: 0;">
                        <div class="flex items-center justify-between">
                            <div class="flex-1">
                                <h4 class="text-xs font-medium text-text-secondary mb-1">Saves</h4>
                                <p id="savesValue" class="text-lg font-bold text-text-primary mb-2">4.3K</p>
                                <div class="flex items-center">
                                    <span id="savesChange" style="background:none;color:#16a34a;" class="ml-2 inline-flex items-center text-xs font-medium">
                                        <svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 20 20">
                                            <path d="M4 3h12v12H4z"/>
                                        </svg>
                                        +4.6% vs last month
                                    </span>
                                </div>
                            </div>
                            <div class="w-8 h-8 bg-accent-100 rounded-lg flex items-center justify-center">
                                <svg class="w-4 h-4 text-accent-600" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M6 2h12v20l-6-3-6 3V2z"/>
                                </svg>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ADDITIONAL INSTAGRAM ANALYTICS - Moved from Overview Section -->
                
                <!-- CONTENT PERFORMANCE ANALYTICS & AUDIENCE ENGAGEMENT PATTERNS -->
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
                    <!-- Content Performance Analytics -->
                    <div class="bg-surface rounded-lg shadow-card p-6 border border-border-light chart-container">
                        <div class="flex items-center justify-between mb-6">
                            <div>
                                <h3 class="text-lg font-semibold text-text-primary">Content Performance Analytics</h3>
                                <p class="text-sm text-text-secondary mt-1">Engagement trends vs posting frequency</p>
                            </div>
                            <div class="flex items-center space-x-2">
                                <span class="text-sm text-success-600 font-medium">↗ +15.3%</span>
                                <span class="text-xs text-text-secondary">vs last period</span>
                            </div>
                        </div>
                        <div class="relative h-64">
                            <canvas id="instagramContentPerformanceChart" width="400" height="256"></canvas>
                        </div>
                        <div class="mt-4 grid grid-cols-2 gap-4 text-center">
                            <div class="bg-accent-50 rounded-lg p-3 insight-card">
                                <p class="text-lg font-bold text-accent-800">633</p>
                                <p class="text-xs text-text-secondary">Total Posts</p>
                            </div>
                            <div class="bg-success-50 rounded-lg p-3 insight-card">
                                <p class="text-lg font-bold text-success-800">2,926</p>
                                <p class="text-xs text-text-secondary">Total Engagements</p>
                            </div>
                        </div>
                    </div>

                    <!-- Audience Engagement Patterns -->
                    <div class="bg-surface rounded-lg shadow-card p-6 border border-border-light chart-container">
                        <div class="flex items-center justify-between mb-6">
                            <div>
                                <h3 class="text-lg font-semibold text-text-primary">Audience Engagement Patterns</h3>
                                <p class="text-sm text-text-secondary mt-1">Optimal posting times analysis</p>
                            </div>
                            <div class="flex items-center space-x-2">
                                <div class="w-3 h-3 bg-primary rounded-full pulse-animation"></div>
                                <span class="text-sm text-text-secondary">Peak Activity</span>
                            </div>
                        </div>
                        <div class="relative h-64">
                            <canvas id="instagramEngagementPatternsChart" width="400" height="256"></canvas>
                        </div>
                        <div class="mt-4 text-center">
                            <p class="text-sm text-text-secondary">Best posting times: <span class="font-medium text-primary">9AM-11AM EST</span> and <span class="font-medium text-primary">2PM-4PM EST</span></p>
                        </div>
                    </div>
                </div>
                
                <!-- Instagram Activity Radar (by Month) -->
                <div class="bg-surface rounded-lg shadow-card p-6 border border-border-light mb-8">
                    <div class="flex items-center justify-between mb-6">
                        <h3 class="text-lg font-semibold text-text-primary">Instagram Activity Radar (by Month)</h3>
                        <div>
                            <select id="instagramRadarYearSelect" class="appearance-none bg-surface border border-border rounded-md px-4 py-2 pr-8 text-sm font-medium text-text-primary focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
                                <option value="all">All Years</option>
                            </select>
                        </div>
                    </div>
                    <div class="relative h-96 flex items-center justify-center">
                        <canvas id="instagramActivityRadarChart" width="400" height="384"></canvas>
                    </div>
                </div>
                
                <!-- Instagram Engagement Content -->
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
                    <!-- Top Hashtags -->
                    <div class="bg-surface rounded-lg shadow-card p-6 border border-border-light">
                        <h3 class="text-lg font-semibold text-text-primary mb-6">Top Hashtags</h3>
                        <div class="space-y-4">
                            <div class="flex items-center justify-between">
                                <span class="text-sm font-medium text-primary">#LamResearch</span>
                                <div class="flex items-center space-x-2">
                                    <div class="w-24 bg-secondary-100 rounded-full h-2">
                                        <div class="bg-primary h-2 rounded-full" style="width: 100%"></div>
                                    </div>
                                    <span class="text-sm font-medium text-text-primary">2.1K</span>
                                </div>
                            </div>
                            <div class="flex items-center justify-between">
                                <span class="text-sm font-medium text-primary">#TechInnovation</span>
                                <div class="flex items-center space-x-2">
                                    <div class="w-24 bg-secondary-100 rounded-full h-2">
                                        <div class="bg-primary h-2 rounded-full" style="width: 75%"></div>
                                    </div>
                                    <span class="text-sm font-medium text-text-primary">1.6K</span>
                                </div>
                            </div>
                            <div class="flex items-center justify-between">
                                <span class="text-sm font-medium text-primary">#Semiconductor</span>
                                <div class="flex items-center space-x-2">
                                    <div class="w-24 bg-secondary-100 rounded-full h-2">
                                        <div class="bg-primary h-2 rounded-full" style="width: 60%"></div>
                                    </div>
                                    <span class="text-sm font-medium text-text-primary">1.2K</span>
                                </div>
                            </div>
                            <div class="flex items-center justify-between">
                                <span class="text-sm font-medium text-primary">#Engineering</span>
                                <div class="flex items-center space-x-2">
                                    <div class="w-24 bg-secondary-100 rounded-full h-2">
                                        <div class="bg-primary h-2 rounded-full" style="width: 45%"></div>
                                    </div>
                                    <span class="text-sm font-medium text-text-primary">950</span>
                                </div>
                            </div>
                            <div class="flex items-center justify-between">
                                <span class="text-sm font-medium text-primary">#Innovation</span>
                                <div class="flex items-center space-x-2">
                                    <div class="w-24 bg-secondary-100 rounded-full h-2">
                                        <div class="bg-primary h-2 rounded-full" style="width: 30%"></div>
                                    </div>
                                    <span class="text-sm font-medium text-text-primary">634</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Instagram Engagement Distribution -->
                    <div class="bg-surface rounded-lg shadow-card p-6 border border-border-light">
                        <div class="flex items-center justify-between mb-6">
                            <h3 class="text-lg font-semibold text-text-primary">Engagement Distribution</h3>
                            <div class="flex items-center space-x-4">
                                <div class="flex items-center space-x-2">
                                    <span class="text-lg">❤️</span>
                                    <span class="text-sm text-pink-700 font-medium">Likes</span>
                                </div>
                                <div class="flex items-center space-x-2">
                                    <span class="text-lg">💬</span>
                                    <span class="text-sm text-blue-700 font-medium">Comments</span>
                                </div>
                                <div class="flex items-center space-x-2">
                                    <span class="text-lg">🔖</span>
                                    <span class="text-sm text-orange-700 font-medium">Saves</span>
                                </div>
                            </div>
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                            <div class="bg-gradient-to-r from-pink-50 to-red-50 rounded-lg p-6 border border-pink-200 text-center">
                                <div class="flex items-center justify-center mb-3">
                                    <span class="text-4xl">❤️</span>
                                </div>
                                <p class="text-2xl font-bold text-pink-800 mb-1">8.9K</p>
                                <p class="text-sm text-pink-600 font-medium">Likes</p>
                                <p class="text-xs text-pink-500 mt-1">82.1% of total engagement</p>
                            </div>
                            <div class="bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-6 border border-blue-200 text-center">
                                <div class="flex items-center justify-center mb-3">
                                    <span class="text-4xl">💬</span>
                                </div>
                                <p class="text-2xl font-bold text-blue-800 mb-1">1.2K</p>
                                <p class="text-sm text-blue-600 font-medium">Comments</p>
                                <p class="text-xs text-blue-500 mt-1">11.1% of total engagement</p>
                            </div>
                            <div class="bg-gradient-to-r from-orange-50 to-red-50 rounded-lg p-6 border border-orange-200 text-center">
                                <div class="flex items-center justify-center mb-3">
                                    <span class="text-4xl">🔖</span>
                                </div>
                                <p class="text-2xl font-bold text-orange-800 mb-1">756</p>
                                <p class="text-sm text-orange-600 font-medium">Saves</p>
                                <p class="text-xs text-orange-500 mt-1">6.8% of total engagement</p>
                            </div>
                        </div>
                    </div>

                    <!-- Instagram Stories Performance -->
                    <div class="bg-surface rounded-lg shadow-card p-6 border border-border-light">
                        <h3 class="text-lg font-semibold text-text-primary mb-6">Stories Performance</h3>
                        <div class="relative h-96">
                            <canvas id="instagramStoriesChart" width="400" height="384"></canvas>
                        </div>
                        <div class="mt-4 grid grid-cols-2 gap-4 text-center">
                            <div class="bg-primary-50 rounded-lg p-3">
                                <p class="text-lg font-bold text-primary-800">2.3K</p>
                                <p class="text-xs text-text-secondary">Views</p>
                            </div>
                            <div class="bg-success-50 rounded-lg p-3">
                                <p class="text-lg font-bold text-success-800">18.5%</p>
                                <p class="text-xs text-text-secondary">Completion Rate</p>
                            </div>
                        </div>
                    </div>

                    <!-- Instagram Content Performance -->
                    <div class="bg-surface rounded-lg shadow-card p-6 border border-border-light">
                        <h3 class="text-lg font-semibold text-text-primary mb-6">Content Performance</h3>
                        <div class="space-y-4">
                            <div class="flex items-center justify-between p-3 bg-primary-50 rounded-lg">
                                <div class="flex items-center space-x-3">
                                    <div class="w-10 h-10 bg-primary rounded-lg flex items-center justify-center">
                                        <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 24 24">
                                            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                        </svg>
                                    </div>
                                    <div>
                                        <p class="text-sm font-medium text-text-primary">Photo Posts</p>
                                        <p class="text-xs text-text-secondary">65% of content</p>
                                    </div>
                                </div>
                                <div class="text-right">
                                    <p class="text-lg font-bold text-primary">4.2K</p>
                                    <p class="text-xs text-text-secondary">Avg. likes</p>
                                </div>
                            </div>
                            <div class="flex items-center justify-between p-3 bg-success-50 rounded-lg">
                                <div class="flex items-center space-x-3">
                                    <div class="w-10 h-10 bg-success-600 rounded-lg flex items-center justify-center">
                                        <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 24 24">
                                            <path d="M8 5v14l11-7z"/>
                                        </svg>
                                    </div>
                                    <div>
                                        <p class="text-sm font-medium text-text-primary">Video Posts</p>
                                        <p class="text-xs text-text-secondary">25% of content</p>
                                    </div>
                                </div>
                                <div class="text-right">
                                    <p class="text-lg font-bold text-success-600">6.8K</p>
                                    <p class="text-xs text-text-secondary">Avg. likes</p>
                                </div>
                            </div>
                            <div class="flex items-center justify-between p-3 bg-warning-50 rounded-lg">
                                <div class="flex items-center space-x-3">
                                    <div class="w-10 h-10 bg-warning-500 rounded-lg flex items-center justify-center">
                                        <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 24 24">
                                            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                        </svg>
                                    </div>
                                    <div>
                                        <p class="text-sm font-medium text-text-primary">Carousel Posts</p>
                                        <p class="text-xs text-text-secondary">10% of content</p>
                                    </div>
                                </div>
                                <div class="text-right">
                                    <p class="text-lg font-bold text-warning-600">5.1K</p>
                                    <p class="text-xs text-text-secondary">Avg. likes</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 3. INSTAGRAM ENGAGEMENT HISTOGRAM -->
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
                    <!-- Instagram Engagement Distribution -->
                    <div class="bg-surface rounded-lg shadow-card p-6 border border-border-light chart-container">
                        <div class="flex items-center justify-between mb-6">
                            <div>
                                <h3 class="text-lg font-semibold text-text-primary">Instagram Engagement Distribution</h3>
                                <p class="text-sm text-text-secondary mt-1">Post engagement patterns and distribution analysis</p>
                            </div>
                            <div class="flex items-center space-x-2">
                                <span class="text-sm text-purple-600 font-medium">Avg: 4.2K</span>
                            </div>
                        </div>
                        <div class="relative h-80">
                            <canvas id="instagramHistogramChart" width="400" height="320"></canvas>
                        </div>
                        <div class="mt-4 grid grid-cols-2 gap-4 text-center">
                            <div class="bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg p-3">
                                <p class="text-lg font-bold text-purple-700">18 posts</p>
                                <p class="text-xs text-text-secondary">High Engagement</p>
                            </div>
                            <div class="bg-gradient-to-r from-indigo-50 to-purple-50 rounded-lg p-3">
                                <p class="text-lg font-bold text-indigo-700">82%</p>
                                <p class="text-xs text-text-secondary">Consistency Rate</p>
                            </div>
                        </div>
                    </div>

                    <!-- Instagram Stories Analytics -->
                    <div class="bg-surface rounded-lg shadow-card p-6 border border-border-light chart-container">
                        <div class="flex items-center justify-between mb-6">
                            <div>
                                <h3 class="text-lg font-semibold text-text-primary">Instagram Stories Analytics</h3>
                                <p class="text-sm text-text-secondary mt-1">Stories performance and viewer engagement metrics</p>
                            </div>
                            <div class="flex items-center space-x-2">
                                <span class="text-sm text-pink-600 font-medium">Completion: 78.4%</span>
                            </div>
                        </div>
                        <div class="relative h-80">
                            <canvas id="instagramStoriesAnalyticsChart" width="400" height="320"></canvas>
                        </div>
                        <div class="mt-4 grid grid-cols-2 gap-4 text-center">
                            <div class="bg-gradient-to-r from-pink-50 to-orange-50 rounded-lg p-3">
                                <p class="text-lg font-bold text-pink-700">2.8K</p>
                                <p class="text-xs text-text-secondary">Avg. Views</p>
                            </div>
                            <div class="bg-gradient-to-r from-orange-50 to-yellow-50 rounded-lg p-3">
                                <p class="text-lg font-bold text-orange-700">78.4%</p>
                                <p class="text-xs text-text-secondary">Completion Rate</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 5. STRATEGIC INSIGHTS SECTION -->
                <div class="bg-surface rounded-lg shadow-card p-6 border border-border-light mb-8">
                    <div class="flex items-center justify-between mb-6">
                        <div>
                            <h3 class="text-xl font-bold text-text-primary">Strategic Insights: Instagram Performance</h3>
                            <p class="text-sm text-text-secondary mt-1">Key insights and actionable recommendations for Instagram strategy</p>
                        </div>
                        <div class="bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg px-4 py-2">
                            <p class="text-sm font-medium text-purple-700">Performance Rating</p>
                            <p class="text-lg font-bold text-purple-700">Excellent</p>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <!-- Key Performance Highlights -->
                        <div>
                            <h4 class="text-lg font-semibold text-text-primary mb-4">Performance Highlights</h4>
                            <div class="space-y-3">
                                <div class="flex items-start space-x-3">
                                    <div class="w-2 h-2 bg-success-500 rounded-full mt-2"></div>
                                    <p class="text-text-secondary">Visual content quality rated 94.1% - significantly above industry standard of 78%.</p>
                                </div>
                                <div class="flex items-start space-x-3">
                                    <div class="w-2 h-2 bg-purple-500 rounded-full mt-2"></div>
                                    <p class="text-text-secondary">Engagement rate of 6.8% outperforms tech industry average by 127%.</p>
                                </div>
                                <div class="flex items-start space-x-3">
                                    <div class="w-2 h-2 bg-pink-500 rounded-full mt-2"></div>
                                    <p class="text-text-secondary">Stories completion rate of 78.4% indicates high audience interest and content relevance.</p>
                                </div>
                                <div class="flex items-start space-x-3">
                                    <div class="w-2 h-2 bg-indigo-500 rounded-full mt-2"></div>
                                    <p class="text-text-secondary">Community growth rate of +28.3% demonstrates strong brand appeal in visual medium.</p>
                                </div>
                            </div>
                        </div>

                        <!-- Strategic Recommendations -->
                        <div>
                            <h4 class="text-lg font-semibold text-text-primary mb-4">Strategic Recommendations</h4>
                            <div class="space-y-3">
                                <div class="flex items-start space-x-3">
                                    <div class="w-2 h-2 bg-orange-500 rounded-full mt-2"></div>
                                    <p class="text-text-secondary">Optimize posting times around 7-9 PM window for maximum engagement reach.</p>
                                </div>
                                <div class="flex items-start space-x-3">
                                    <div class="w-2 h-2 bg-yellow-500 rounded-full mt-2"></div>
                                    <p class="text-text-secondary">Increase video content ratio from 25% to 35% to leverage higher engagement rates.</p>
                                </div>
                                <div class="flex items-start space-x-3">
                                    <div class="w-2 h-2 bg-teal-500 rounded-full mt-2"></div>
                                    <p class="text-text-secondary">Expand Stories frequency to capitalize on 78.4% completion rate and drive brand awareness.</p>
                                </div>
                                <div class="flex items-start space-x-3">
                                    <div class="w-2 h-2 bg-blue-500 rounded-full mt-2"></div>
                                    <p class="text-text-secondary">Implement user-generated content campaigns to enhance authenticity and community engagement.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="trendsView" class="hidden">
                <!-- Instagram Trends Summary Cards -->
                <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
                    <div class="bg-surface rounded-lg shadow-card p-6 border border-border-light">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm font-medium text-text-secondary">Trend Direction</p>
                                <p class="text-2xl font-bold text-success-600 mt-1">â†— Strong</p>
                            </div>
                            <div class="w-12 h-12 bg-success-100 rounded-lg flex items-center justify-center">
                                <svg class="w-6 h-6 text-success-600" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M7 14l5-5 5 5z"/>
                                </svg>
                            </div>
                        </div>
                    </div>
                    <div class="bg-surface rounded-lg shadow-card p-6 border border-border-light">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm font-medium text-text-secondary">Peak Engagement</p>
                                <p class="text-2xl font-bold text-text-primary mt-1">8.9K</p>
                                <p class="text-sm text-text-secondary mt-1">April 22, 2024</p>
                            </div>
                            <div class="w-12 h-12 bg-accent-100 rounded-lg flex items-center justify-center">
                                <svg class="w-6 h-6 text-accent-600" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M16 6l2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"/>
                                </svg>
                            </div>
                        </div>
                    </div>
                    <div class="bg-surface rounded-lg shadow-card p-6 border border-border-light">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm font-medium text-text-secondary">Avg Sentiment</p>
                                <p class="text-2xl font-bold text-text-primary mt-1">52.3%</p>
                                <p class="text-sm text-text-secondary mt-1">Positive overall</p>
                            </div>
                            <div class="w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center">
                                <svg class="w-6 h-6 text-primary-600" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                </svg>
                            </div>
                        </div>
                    </div>
                    <div class="bg-surface rounded-lg shadow-card p-6 border border-border-light">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm font-medium text-text-secondary">Growth Rate</p>
                                <p class="text-2xl font-bold text-success-600 mt-1">+23%</p>
                                <p class="text-sm text-text-secondary mt-1">vs last quarter</p>
                            </div>
                            <div class="w-12 h-12 bg-success-100 rounded-lg flex items-center justify-center">
                                <svg class="w-6 h-6 text-success-600" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                                </svg>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- (REMOVED: Sentiment Trends Over Time chart moved to Engagement tab) -->
            </div>
        </main>
    </div>
    
    <script>
        // Tab switching logic
        const showEngagement = document.getElementById('showEngagement');
        const showTrends = document.getElementById('showTrends');
        const performanceView = document.getElementById('performanceView');
        const trendsView = document.getElementById('trendsView');
        
        if (showEngagement && showTrends && performanceView && trendsView) {
            showEngagement.onclick = function() {
                performanceView.classList.remove('hidden');
                trendsView.classList.add('hidden');
                showEngagement.classList.add('bg-primary', 'text-white');
                showEngagement.classList.remove('text-primary', 'border-2', 'border-primary');
                showTrends.classList.remove('bg-primary', 'text-white');
                showTrends.classList.add('text-primary', 'border-2', 'border-primary');
            };
            showTrends.onclick = function() {
                trendsView.classList.remove('hidden');
                performanceView.classList.add('hidden');
                showTrends.classList.add('bg-primary', 'text-white');
                showTrends.classList.remove('text-primary', 'border-2', 'border-primary');
                showEngagement.classList.remove('bg-primary', 'text-white');
                showEngagement.classList.add('text-primary', 'border-2', 'border-primary');
            };
        }
        
        // Instagram Charts
        let instagramBarChart = null;
        let instagramActivityRadarChart = null;
        let instagramActivityRadarRawData = null;
        let instagramEngagementChart = null;
        let instagramStoriesChart = null;
        let instagramContentPerformanceChart = null;
        let instagramEngagementPatternsChart = null;
        
        
        // Initialize Instagram Content Performance Chart
        function initializeInstagramContentPerformanceChart() {
            const ctx = document.getElementById('instagramContentPerformanceChart');
            if (!ctx) return;
            
            if (instagramContentPerformanceChart) instagramContentPerformanceChart.destroy();
            
            const weeks = ['Week 1', 'Week 2', 'Week 3', 'Week 4'];
            const engagementData = [4.2, 4.8, 4.5, 5.1];
            const postsData = [6, 7, 5, 8];
            
            instagramContentPerformanceChart = new Chart(ctx.getContext('2d'), {
                type: 'line',
                data: {
                    labels: weeks,
                    datasets: [
                        {
                            label: 'Avg Engagement',
                            data: engagementData,
                            borderColor: '#3498DB',
                            backgroundColor: 'rgba(52, 152, 219, 0.1)',
                            borderWidth: 3,
                            fill: true,
                            tension: 0.4,
                            yAxisID: 'y'
                        },
                        {
                            label: 'Posts Published',
                            data: postsData,
                            borderColor: '#E67E22',
                            backgroundColor: 'rgba(230, 126, 34, 0.1)',
                            borderWidth: 3,
                            fill: false,
                            tension: 0.4,
                            yAxisID: 'y1'
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    interaction: {
                        mode: 'index',
                        intersect: false
                    },
                    plugins: {
                        legend: {
                            position: 'top',
                            labels: { usePointStyle: true }
                        }
                    },
                    scales: {
                        x: {
                            grid: { display: true, color: '#F3F4F6' }
                        },
                        y: {
                            type: 'linear',
                            display: true,
                            position: 'left',
                            title: { display: true, text: 'Engagement Rate' },
                            grid: { color: '#F3F4F6' }
                        },
                        y1: {
                            type: 'linear',
                            display: true,
                            position: 'right',
                            title: { display: true, text: 'Posts Count' },
                            grid: { drawOnChartArea: false }
                        }
                    }
                }
            });
        }

        // Initialize Instagram Engagement Patterns Chart
        function initializeInstagramEngagementPatternsChart() {
            const ctx = document.getElementById('instagramEngagementPatternsChart');
            if (!ctx) return;
            
            if (instagramEngagementPatternsChart) instagramEngagementPatternsChart.destroy();
            
            const hours = ['6AM', '9AM', '12PM', '3PM', '6PM', '9PM'];
            const engagementRates = [15, 85, 45, 80, 35, 25];
            
            instagramEngagementPatternsChart = new Chart(ctx.getContext('2d'), {
                type: 'bar',
                data: {
                    labels: hours,
                    datasets: [{
                        label: 'Engagement Rate (%)',
                        data: engagementRates,
                        backgroundColor: [
                            '#FF6B35',
                            '#27AE60',
                            '#F39C12',
                            '#27AE60',
                            '#E67E22',
                            '#E74C3C'
                        ],
                        borderColor: [
                            '#E55A2B',
                            '#229954',
                            '#E67E22',
                            '#229954',
                            '#D68910',
                            '#C0392B'
                        ],
                        borderWidth: 2,
                        borderRadius: 6
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            backgroundColor: '#1F2937',
                            titleColor: '#FFFFFF',
                            bodyColor: '#FFFFFF',
                            callbacks: {
                                label: function(context) {
                                    return `Engagement: ${context.parsed.y}%`;
                                }
                            }
                        }
                    },
                    scales: {
                        x: {
                            grid: { display: false },
                            ticks: { font: { weight: 'bold' } }
                        },
                        y: {
                            beginAtZero: true,
                            max: 100,
                            grid: { color: '#F3F4F6' },
                            ticks: {
                                callback: function(value) {
                                    return value + '%';
                                }
                            }
                        }
                    }
                }
            });
        }
        
        
        // Initialize Instagram Bar Chart
        function initializeInstagramBarChart() {
            const ctx = document.getElementById('instagramBarChart');
            if (!ctx) return;
            
            const years = ['2022', '2023', '2024'];
            const positiveData = [48.5, 50.2, 52.3];
            const neutralData = [38.2, 36.5, 34.8];
            const negativeData = [13.3, 13.3, 12.9];
            
            if (instagramBarChart) instagramBarChart.destroy();
            instagramBarChart = new Chart(ctx.getContext('2d'), {
                type: 'bar',
                data: {
                    labels: years,
                    datasets: [
                        { label: 'Positive', data: positiveData, backgroundColor: '#27AE60', borderRadius: 4 },
                        { label: 'Neutral', data: neutralData, backgroundColor: '#F39C12', borderRadius: 4 },
                        { label: 'Negative', data: negativeData, backgroundColor: '#E74C3C', borderRadius: 4 }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'top', labels: { usePointStyle: true, padding: 20 } }
                    },
                    scales: {
                        x: { grid: { display: false }, ticks: { font: { size: 12 } } },
                        y: {
                            beginAtZero: true,
                            grid: { color: '#F3F4F6' },
                            ticks: { font: { size: 12 }, callback: function(value) { return value + '%'; } },
                            max: 100
                        }
                    }
                }
            });
        }
        
        // Initialize Instagram Engagement Chart with Instagram symbols
        function initializeInstagramEngagementChart() {
            const ctx = document.getElementById('instagramEngagementChart');
            if (!ctx) return;
            
            const labels = ['❤️ Likes', '💬 Comments', '🔖 Saves'];
            const data = [8900, 1200, 756];
            const colors = ['#E1306C', '#405DE6', '#FD5949'];
            
            if (instagramEngagementChart) instagramEngagementChart.destroy();
            instagramEngagementChart = new Chart(ctx.getContext('2d'), {
                type: 'doughnut',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Engagement Count',
                        data: data,
                        backgroundColor: [
                            'rgba(225, 48, 108, 0.8)',  // Instagram heart color
                            'rgba(64, 93, 230, 0.8)',   // Instagram blue
                            'rgba(253, 89, 73, 0.8)'    // Instagram orange/red
                        ],
                        borderColor: [
                            'rgba(225, 48, 108, 1)',
                            'rgba(64, 93, 230, 1)',
                            'rgba(253, 89, 73, 1)'
                        ],
                        borderWidth: 3,
                        hoverOffset: 8,
                        cutout: '45%'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: true,
                            position: 'bottom',
                            labels: {
                                usePointStyle: true,
                                pointStyle: 'circle',
                                padding: 20,
                                font: {
                                    size: 12,
                                    weight: 'bold'
                                },
                                color: '#374151'
                            }
                        },
                        tooltip: {
                            backgroundColor: '#1F2937',
                            titleColor: '#FFFFFF',
                            bodyColor: '#FFFFFF',
                            borderColor: '#374151',
                            borderWidth: 1,
                            callbacks: {
                                label: function(context) {
                                    const label = context.label || '';
                                    const value = context.parsed || 0;
                                    const total = context.dataset.data.reduce((a, b) => a + b, 0);
                                    const percentage = ((value / total) * 100).toFixed(1);
                                    return `${label}: ${value.toLocaleString()} (${percentage}%)`;
                                }
                            }
                        }
                    },
                    animation: {
                        animateRotate: true,
                        duration: 1200,
                        easing: 'easeInOutQuart'
                    }
                }
            });
        }
        
        // Initialize Instagram Stories Chart
        function initializeInstagramStoriesChart() {
            const ctx = document.getElementById('instagramStoriesChart');
            if (!ctx) return;
            
            const labels = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];
            const viewsData = [1800, 2100, 2400, 2200, 1900, 2600, 2300];
            const completionData = [15, 17, 19, 18, 16, 21, 18];
            
            if (instagramStoriesChart) instagramStoriesChart.destroy();
            instagramStoriesChart = new Chart(ctx.getContext('2d'), {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [
                        {
                            label: 'Views',
                            data: viewsData,
                            borderColor: '#3498DB',
                            backgroundColor: 'rgba(52, 152, 219, 0.1)',
                            borderWidth: 3,
                            fill: true,
                            tension: 0.4,
                            yAxisID: 'y'
                        },
                        {
                            label: 'Completion Rate (%)',
                            data: completionData,
                            borderColor: '#27AE60',
                            backgroundColor: 'rgba(39, 174, 96, 0.1)',
                            borderWidth: 3,
                            fill: false,
                            tension: 0.4,
                            yAxisID: 'y1'
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'top', labels: { usePointStyle: true, padding: 20 } }
                    },
                    scales: {
                        x: { grid: { display: false }, ticks: { font: { size: 12 } } },
                        y: {
                            type: 'linear',
                            display: true,
                            position: 'left',
                            grid: { color: '#F3F4F6' },
                            ticks: { font: { size: 12 }, callback: function(value) { return value.toLocaleString(); } }
                        },
                        y1: {
                            type: 'linear',
                            display: true,
                            position: 'right',
                            grid: { drawOnChartArea: false },
                            ticks: { font: { size: 12 }, callback: function(value) { return value + '%'; } }
                        }
                    }
                }
            });
        }
        
        // Instagram Activity Radar Chart
        async function loadInstagramActivityRadarChart() {
            try {
                // Create dummy data for Instagram Activity Radar
                const dummyData = {
                    labels: ['Jan 2023', 'Feb 2023', 'Mar 2023', 'Apr 2023', 'May 2023', 'Jun 2023', 'Jul 2023', 'Aug 2023', 'Sep 2023', 'Oct 2023', 'Nov 2023', 'Dec 2023', 'Jan 2024', 'Feb 2024', 'Mar 2024', 'Apr 2024', 'May 2024', 'Jun 2024', 'Jul 2024', 'Aug 2024', 'Sep 2024', 'Oct 2024', 'Nov 2024', 'Dec 2024'],
                    values: [3200, 3650, 4100, 3850, 4200, 3950, 4550, 4800, 4350, 4700, 4950, 5200, 5050, 5400, 5550, 5250, 5700, 5450, 6000, 6250, 5950, 6150, 6400, 6550]
                };
                
                instagramActivityRadarRawData = dummyData;
                const yearSelect = document.getElementById('instagramRadarYearSelect');
                if (yearSelect) {
                    // Extract years from labels (format: 'Month YYYY')
                    const years = Array.from(new Set(dummyData.labels.map(label => label.split(' ')[1])));
                    yearSelect.innerHTML = '<option value="all">All Years</option>' + years.map(y => `<option value="${y}">${y}</option>`).join('');
                    yearSelect.onchange = function() { renderInstagramActivityRadarChart(this.value); };
                }
                renderInstagramActivityRadarChart('all');
            } catch (e) {
                const ctx = document.getElementById('instagramActivityRadarChart');
                if (ctx) {
                    ctx.parentNode.innerHTML = '<div class="text-center text-warning-700">Unable to load Instagram Activity Radar chart data.</div>';
                }
            }
        }
        
        function renderInstagramActivityRadarChart(selectedYear) {
            const ctx = document.getElementById('instagramActivityRadarChart');
            if (!ctx || !instagramActivityRadarRawData) return;
            if (instagramActivityRadarChart) instagramActivityRadarChart.destroy();
            
            let labels = instagramActivityRadarRawData.labels;
            let values = instagramActivityRadarRawData.values;
            if (selectedYear && selectedYear !== 'all') {
                labels = instagramActivityRadarRawData.labels.filter(l => l.endsWith(' ' + selectedYear));
                values = labels.map(l => {
                    const idx = instagramActivityRadarRawData.labels.indexOf(l);
                    return instagramActivityRadarRawData.values[idx];
                });
            }
            
            instagramActivityRadarChart = new Chart(ctx.getContext('2d'), {
                type: 'radar',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Instagram Activity by Month',
                        data: values,
                        fill: true,
                        backgroundColor: 'rgba(225, 48, 108, 0.2)',
                        borderColor: '#E1306C',
                        pointBackgroundColor: '#E1306C',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: '#E1306C',
                        borderWidth: 3,
                        pointRadius: 6,
                        pointHoverRadius: 9
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: true,
                            position: 'top',
                            labels: {
                                color: '#E1306C',
                                font: { weight: 'bold' }
                            }
                        },
                        tooltip: {
                            enabled: true,
                            backgroundColor: '#1F2937',
                            titleColor: '#FFFFFF',
                            bodyColor: '#FFFFFF',
                            borderColor: '#374151',
                            callbacks: {
                                label: function(context) {
                                    return `${context.dataset.label}: ${context.formattedValue} mentions`;
                                }
                            }
                        }
                    },
                    scales: {
                        r: {
                            angleLines: { color: '#E5E7EB' },
                            grid: { color: '#E5E7EB' },
                            pointLabels: { color: '#E1306C', font: { weight: 'bold' } },
                            ticks: { color: '#374151' }
                        }
                    },
                    animation: {
                        duration: 1200,
                        easing: 'easeInOutQuart'
                    },
                    interaction: {
                        intersect: false,
                        mode: 'nearest'
                    }
                }
            });
        }
        
        // Initialize all charts on page load
        window.addEventListener('DOMContentLoaded', function() {
            initializeInstagramContentPerformanceChart();
            initializeInstagramEngagementPatternsChart();
            initializeInstagramBarChart();
            initializeInstagramEngagementChart();
            initializeInstagramStoriesChart();
            loadInstagramActivityRadarChart();
            
            // Initialize trends chart when trends tab is clicked
            if (showTrends) {
                showTrends.addEventListener('click', function() {
                    setTimeout(initializeInstagramTrendsChart, 100);
                });
            }
        });
    </script>
    
    <!-- Instagram Trends Chart with 6m/1y/2y slider -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
    let instagramTrendsChart = null;
    const instagramTrendsDataAll = {
      '6m': {
        labels: ['Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
        positive: [51, 52, 53, 54, 55, 56],
        neutral: [33, 34, 35, 36, 37, 38],
        negative: [16, 14, 12, 10, 8, 6]
      },
      '1y': {
        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
        positive: [48, 49, 50, 51, 52, 53, 52, 51, 52, 53, 52, 52],
        neutral: [38, 37, 36, 35, 34, 33, 34, 35, 34, 33, 34, 35],
        negative: [14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 13]
      },
      '2y': {
        labels: [
          'Jan 23', 'Feb 23', 'Mar 23', 'Apr 23', 'May 23', 'Jun 23',
          'Jul 23', 'Aug 23', 'Sep 23', 'Oct 23', 'Nov 23', 'Dec 23',
          'Jan 24', 'Feb 24', 'Mar 24', 'Apr 24', 'May 24', 'Jun 24',
          'Jul 24', 'Aug 24', 'Sep 24', 'Oct 24', 'Nov 24', 'Dec 24'
        ],
        positive: [45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 48, 49, 50, 51, 52, 53, 52, 51, 52, 53, 52, 52],
        neutral: [35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 38, 37, 36, 35, 34, 33, 34, 35, 34, 33, 34, 35],
        negative: [20, 18, 16, 14, 12, 10, 8, 6, 4, 2, 1, 0, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 13]
      }
    };

    function initializeInstagramTrendsChart(range = '1y') {
      const ctx = document.getElementById('instagramTrendsChart');
      if (!ctx) return;
      const data = instagramTrendsDataAll[range];
      console.log('Instagram Trends Chart Data:', data);
      if (instagramTrendsChart) instagramTrendsChart.destroy();
      instagramTrendsChart = new Chart(ctx.getContext('2d'), {
        type: 'line',
        data: {
          labels: data.labels,
          datasets: [
            { label: 'Positive', data: data.positive, borderColor: '#27AE60', backgroundColor: 'rgba(39, 174, 96, 0.1)', borderWidth: 3, fill: true, tension: 0.4 },
            { label: 'Neutral', data: data.neutral, borderColor: '#F39C12', backgroundColor: 'rgba(243, 156, 18, 0.1)', borderWidth: 3, fill: true, tension: 0.4 },
            { label: 'Negative', data: data.negative, borderColor: '#E74C3C', backgroundColor: 'rgba(231, 76, 60, 0.1)', borderWidth: 3, fill: true, tension: 0.4 }
          ]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: { legend: { display: false } },
          scales: {
            x: { grid: { display: true, color: '#F3F4F6' }, ticks: { font: { size: 12 } } },
            y: { beginAtZero: true, max: 100, grid: { display: true, color: '#F3F4F6' }, ticks: { font: { size: 12 }, callback: function(value) { return value + '%'; } } }
          }
        }
      });
    }

    const instagramRangeToSubtitle = {
      '6m': 'Instagram - Last 6 Months',
      '1y': 'Instagram - Last 12 Months',
      '2y': 'Instagram - Last 24 Months'
    };
    function updateInstagramTrendsSubtitle(rangeKey) {
      const subtitle = document.getElementById('instagramTrendsSubtitle');
      if (subtitle) {
        subtitle.textContent = instagramRangeToSubtitle[rangeKey];
      }
    }

    const instagramSliderValueToRange = { 0: '6m', 1: '1y', 2: '2y' };
    const instagramSliderValueToLabel = { 0: '6m', 1: '1y', 2: '2y' };

    document.addEventListener('DOMContentLoaded', function() {
      const instagramTrendRangeSlider = document.getElementById('instagramTrendRangeSlider');
      const instagramSliderRangeBadge = document.getElementById('instagramSliderRangeBadge');
      if (instagramTrendRangeSlider && instagramSliderRangeBadge) {
        instagramTrendRangeSlider.addEventListener('input', function() {
          const label = instagramSliderValueToLabel[this.value];
          instagramSliderRangeBadge.textContent = label;
          const rangeKey = instagramSliderValueToRange[this.value];
          initializeInstagramTrendsChart(rangeKey);
          updateInstagramTrendsSubtitle(rangeKey);
          document.getElementById('instagramSliderLabel6m').style.color = this.value == 0 ? '#ff7300' : '#6B7280';
          document.getElementById('instagramSliderLabel2y').style.color = this.value == 2 ? '#ff7300' : '#6B7280';
        });
        instagramSliderRangeBadge.textContent = instagramSliderValueToLabel[instagramTrendRangeSlider.value];
        document.getElementById('instagramSliderLabel6m').style.color = instagramTrendRangeSlider.value == 0 ? '#ff7300' : '#6B7280';
        document.getElementById('instagramSliderLabel2y').style.color = instagramTrendRangeSlider.value == 2 ? '#ff7300' : '#6B7280';
        const initialRangeKey = instagramSliderValueToRange[instagramTrendRangeSlider.value];
        initializeInstagramTrendsChart(initialRangeKey);
        updateInstagramTrendsSubtitle(initialRangeKey);
      } else {
        initializeInstagramTrendsChart('1y');
        updateInstagramTrendsSubtitle('1y');
      }
    });

        // COMPREHENSIVE INSTAGRAM ANALYTICS CHARTS - Enhanced Deep Charts Section

        let instagramSentimentPieChart, instagramHistogramChart, instagramStoriesAnalyticsChart;

        // 1. Instagram Enhanced Sentiment Pie Chart
        function initializeInstagramSentimentPieChart() {
            const ctx = document.getElementById('instagramSentimentPieChart');
            if (!ctx) return;
            
            if (instagramSentimentPieChart) instagramSentimentPieChart.destroy();
            
            instagramSentimentPieChart = new Chart(ctx.getContext('2d'), {
                type: 'doughnut',
                data: {
                    labels: ['Positive', 'Neutral', 'Negative'],
                    datasets: [{
                        data: [64.2, 28.3, 7.5],
                        backgroundColor: [
                            'rgba(34, 197, 94, 0.8)',
                            'rgba(245, 158, 11, 0.8)', 
                            'rgba(239, 68, 68, 0.8)'
                        ],
                        borderColor: [
                            'rgba(34, 197, 94, 1)',
                            'rgba(245, 158, 11, 1)',
                            'rgba(239, 68, 68, 1)'
                        ],
                        borderWidth: 2,
                        hoverOffset: 8
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                usePointStyle: true,
                                padding: 20,
                                font: { size: 12, weight: '500' }
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return context.label + ': ' + context.parsed + '%';
                                }
                            }
                        }
                    },
                    cutout: '60%'
                }
            });
        }

        // 4. Instagram Engagement Histogram
        function initializeInstagramHistogramChart() {
            const ctx = document.getElementById('instagramHistogramChart');
            if (!ctx) return;
            
            if (instagramHistogramChart) instagramHistogramChart.destroy();
            
            const ranges = ['0-1K', '1K-2K', '2K-3K', '3K-4K', '4K-5K', '5K-6K', '6K+'];
            const postCounts = [2, 5, 8, 12, 15, 18, 8];
            
            instagramHistogramChart = new Chart(ctx.getContext('2d'), {
                type: 'bar',
                data: {
                    labels: ranges,
                    datasets: [{
                        label: 'Number of Posts',
                        data: postCounts,
                        backgroundColor: [
                            'rgba(147, 51, 234, 0.8)',
                            'rgba(147, 51, 234, 0.7)',
                            'rgba(147, 51, 234, 0.6)',
                            'rgba(147, 51, 234, 0.8)',
                            'rgba(147, 51, 234, 0.9)',
                            'rgba(147, 51, 234, 1)',
                            'rgba(236, 72, 153, 0.8)'
                        ],
                        borderColor: 'rgba(147, 51, 234, 1)',
                        borderWidth: 1,
                        borderRadius: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        x: {
                            title: {
                                display: true,
                                text: 'Engagement Range (Likes)'
                            }
                        },
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Number of Posts'
                            }
                        }
                    }
                }
            });
        }

        // 6. Instagram Stories Analytics Chart
        function initializeInstagramStoriesAnalyticsChart() {
            const ctx = document.getElementById('instagramStoriesAnalyticsChart');
            if (!ctx) return;
            
            if (instagramStoriesAnalyticsChart) instagramStoriesAnalyticsChart.destroy();
            
            const days = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];
            const viewsData = [2100, 2400, 2800, 3200, 2900, 3500, 2600];
            const completionData = [72, 75, 78, 82, 79, 85, 73];
            
            instagramStoriesAnalyticsChart = new Chart(ctx.getContext('2d'), {
                type: 'line',
                data: {
                    labels: days,
                    datasets: [
                        {
                            label: 'Views',
                            data: viewsData,
                            borderColor: 'rgba(236, 72, 153, 1)',
                            backgroundColor: 'rgba(236, 72, 153, 0.1)',
                            borderWidth: 3,
                            fill: true,
                            tension: 0.4,
                            yAxisID: 'y'
                        },
                        {
                            label: 'Completion Rate (%)',
                            data: completionData,
                            borderColor: 'rgba(251, 146, 60, 1)',
                            backgroundColor: 'rgba(251, 146, 60, 0.1)',
                            borderWidth: 3,
                            fill: false,
                            tension: 0.4,
                            yAxisID: 'y1'
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    interaction: {
                        mode: 'index',
                        intersect: false,
                    },
                    plugins: {
                        legend: {
                            position: 'top',
                            labels: {
                                usePointStyle: true,
                                padding: 20
                            }
                        }
                    },
                    scales: {
                        x: {
                            grid: { display: false }
                        },
                        y: {
                            type: 'linear',
                            display: true,
                            position: 'left',
                            title: {
                                display: true,
                                text: 'Views Count'
                            }
                        },
                        y1: {
                            type: 'linear',
                            display: true,
                            position: 'right',
                            title: {
                                display: true,
                                text: 'Completion Rate (%)'
                            },
                            grid: {
                                drawOnChartArea: false,
                            },
                        }
                    }
                }
            });
        }

        // Initialize all Instagram comprehensive charts
        function initializeAllInstagramCharts() {
            initializeInstagramSentimentPieChart();
            initializeInstagramHistogramChart();
            initializeInstagramStoriesAnalyticsChart();
        }

        // Call initialization when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(initializeAllInstagramCharts, 100);
        });

    </script>
    
    <style>
        .active-platform {
            box-shadow: 0 0 0 4px #ff7300, 0 4px 16px rgba(255, 115, 0, 0.25);
            border-radius: 12px;
            outline: none;
            z-index: 1;
            transition: box-shadow 0.2s;
        }
    </style>
    
    <script>
        // Highlight the active platform button
        document.addEventListener('DOMContentLoaded', function() {
            const platformBtns = document.querySelectorAll('.platform-btn');
            const currentPage = window.location.pathname.split('/').pop();
            platformBtns.forEach(btn => {
                const href = btn.getAttribute('href');
                if (href && href === currentPage) {
                    btn.classList.add('active-platform');
                }
            });
        });
    </script>

    <script>
        // Sidebar functionality
        document.addEventListener('DOMContentLoaded', function() {
            const sidebar = document.getElementById('sidebar');
            const sidebarTrigger = document.getElementById('sidebarTrigger');
            const mainContent = document.getElementById('mainContent');
            let sidebarTimeout;
            
            function showSidebar() {
                sidebar.style.transform = 'translateX(0)';
                mainContent.style.marginLeft = '25%';
                clearTimeout(sidebarTimeout);
            }
            
            function hideSidebar() {
                sidebarTimeout = setTimeout(() => {
                    sidebar.style.transform = 'translateX(-100%)';
                    mainContent.style.marginLeft = '0';
                }, 300);
            }
            
            // Show sidebar on hover trigger (now very narrow)
            sidebarTrigger.addEventListener('mouseenter', showSidebar);

            // Edge proximity detection (opens only when pointer <=12px from left edge)
            let edgeArmed = true;
            document.addEventListener('mousemove', (e) => {
                if (e.clientX <= 12) {
                    if (edgeArmed && sidebar.style.transform !== 'translateX(0)') {
                        showSidebar();
                        edgeArmed = false;
                        setTimeout(()=> edgeArmed = true, 600);
                    }
                }
            });
            
            // Keep sidebar open when hovering over it
            sidebar.addEventListener('mouseenter', () => {
                clearTimeout(sidebarTimeout);
            });
            
            // Hide sidebar when leaving it
            sidebar.addEventListener('mouseleave', hideSidebar);
            
            // Date Filter Functionality
            const dateFromInput = document.getElementById('dateFrom');
            const dateToInput = document.getElementById('dateTo');
            const applyFilterBtn = document.getElementById('applyDateFilter');
            
            // Set default dates (current year)
            const currentDate = new Date();
            const currentYear = currentDate.getFullYear();
            const startOfYear = `${currentYear}-01-01`;
            const endOfYear = `${currentYear}-12-31`;
            
            dateFromInput.value = startOfYear;
            dateToInput.value = endOfYear;
            
            // Apply filter function
            function applyDateFilter() {
                const fromDate = dateFromInput.value;
                const toDate = dateToInput.value;
                
                if (!fromDate || !toDate) {
                    alert('Please select both FROM and TO dates');
                    return;
                }
                
                if (new Date(fromDate) > new Date(toDate)) {
                    alert('FROM date cannot be later than TO date');
                    return;
                }
                
                // Store selected dates in localStorage
                localStorage.setItem('dateFilter_from', fromDate);
                localStorage.setItem('dateFilter_to', toDate);
                
                // Update dashboard data based on selected dates
                updateDashboardData(fromDate, toDate);
                
                // Trigger storage event for real-time sync
                window.dispatchEvent(new StorageEvent('storage', {
                    key: 'dateFilter_from',
                    newValue: fromDate
                }));
                
                // Show loading state
                applyFilterBtn.innerHTML = `
                    <svg style="width: 1rem; height: 1rem; margin-right: 0.5rem; animation: spin 1s linear infinite;" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 2v4l4-4h4v4l-4 4h4v4l-4-4v4h-4l4-4H8l4 4H8v-4l4 4V8L8 4h4V2z"/>
                    </svg>
                    Applying...
                `;
                applyFilterBtn.disabled = true;
                
                setTimeout(() => {
                    applyFilterBtn.innerHTML = `
                        <svg style="width: 1rem; height: 1rem; margin-right: 0.5rem;" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>
                        </svg>
                        Apply
                    `;
                    applyFilterBtn.disabled = false;
                    
                    // Show success feedback
                    const originalText = applyFilterBtn.innerHTML;
                    applyFilterBtn.innerHTML = `
                        <svg style="width: 1rem; height: 1rem; margin-right: 0.5rem;" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>
                        </svg>
                        Applied!
                    `;
                    applyFilterBtn.style.background = '#10b981';
                    
                    setTimeout(() => {
                        applyFilterBtn.innerHTML = originalText;
                        applyFilterBtn.style.background = '#3b82f6';
                    }, 1500);
                    
                    console.log(`Date filter applied: ${fromDate} to ${toDate}`);
                }, 1000);
            }
            
            // Load saved dates function
            function loadSavedDates() {
                const savedFromDate = localStorage.getItem('dateFilter_from');
                const savedToDate = localStorage.getItem('dateFilter_to');
                
                if (savedFromDate && savedToDate) {
                    dateFromInput.value = savedFromDate;
                    dateToInput.value = savedToDate;
                }
            }

            // Dashboard data for different date scenarios
            const dashboardData = {
                currentDate: {
                    visual: "2.1M",
                    visualChange: "+14.2% vs last month",
                    engagement: "6.8%",
                    engagementChange: "+3.4% vs last month",
                    followers: "1.9M",
                    followersChange: "+28.3% vs last month",
                    posts: "1,247",
                    postsChange: "+7.2% vs last month"
                },
                historicalData: {
                    visual: "1.8M",
                    visualChange: "+9.7% vs last month",
                    engagement: "5.9%",
                    engagementChange: "+2.1% vs last month",
                    followers: "1.6M",
                    followersChange: "+22.1% vs last month",
                    posts: "1,156",
                    postsChange: "+4.8% vs last month"
                }
            };

            // Update badge with dynamic success/error styling based on sign
            function updateChangeBadge(elementId, changeText) {
                const el = document.getElementById(elementId);
                if (!el) return;
                const isNegative = /^\s*-/.test((changeText || '').trim());
                const bgClass = isNegative ? 'bg-error-100' : 'bg-success-100';
                const textClass = isNegative ? 'text-error-700' : 'text-success-700';
                const rotate = isNegative ? 'transform rotate-180' : '';
                const preserveMargin = el.classList.contains('ml-2');
                let className = `inline-flex items-center px-2 py-1 ${bgClass} ${textClass} text-xs font-medium rounded-full`;
                if (preserveMargin) className += ' ml-2';
                el.className = className;
                el.innerHTML = `
                    <svg class="w-3 h-3 mr-1 ${rotate}" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z" clip-rule="evenodd"/>
                    </svg>
                    ${changeText}
                `;
            }

            // Function to get current date in YYYY-MM-DD format
            function getCurrentDateString() {
                const today = new Date();
                return today.toISOString().split('T')[0];
            }

            // Function to update dashboard data based on selected dates
            function updateDashboardData(fromDate, toDate) {
                const currentDateStr = getCurrentDateString();
                const isCurrentDate = (toDate === currentDateStr);
                
                // Select appropriate data set
                const data = isCurrentDate ? dashboardData.currentDate : dashboardData.historicalData;
                
                // Update the dashboard metrics with smooth transition
                updateMetricWithAnimation('visualValue', data.visual);
                updateMetricWithAnimation('engagementValue', data.engagement);
                updateMetricWithAnimation('followersValue', data.followers);
                updateMetricWithAnimation('postsValue', data.posts);
                
                // Update change indicators with dynamic color
                updateChangeBadge('visualChange', data.visualChange);
                updateChangeBadge('engagementChange', data.engagementChange);
                updateChangeBadge('followersChange', data.followersChange);
                updateChangeBadge('postsChange', data.postsChange);
                
                // Show visual feedback for data update
                const metricsContainer = document.querySelector('.grid.grid-cols-1.md\\:grid-cols-4');
                if (metricsContainer) {
                    metricsContainer.style.opacity = '0.7';
                    setTimeout(() => {
                        metricsContainer.style.opacity = '1';
                    }, 300);
                }
                
                console.log(`Dashboard updated for date range: ${fromDate} to ${toDate} (Current date: ${isCurrentDate})`);
            }

            // Function to animate metric value changes
            function updateMetricWithAnimation(elementId, newValue) {
                const element = document.getElementById(elementId);
                if (element) {
                    element.style.transform = 'scale(1.1)';
                    element.style.transition = 'transform 0.3s ease';
                    
                    setTimeout(() => {
                        element.textContent = newValue;
                        element.style.transform = 'scale(1)';
                    }, 150);
                }
            }

            // Initialize with current data on page load
            window.addEventListener('load', function() {
                const savedToDate = localStorage.getItem('dateFilter_to');
                if (savedToDate) {
                    updateDashboardData(localStorage.getItem('dateFilter_from') || startOfYear, savedToDate);
                } else {
                    updateDashboardData(startOfYear, endOfYear);
                }
            });
            
            // Event listeners
            applyFilterBtn.addEventListener('click', applyDateFilter);
            
            // Listen for storage changes from other tabs/windows
            window.addEventListener('storage', function(e) {
                if (e.key === 'dateFilter_from' || e.key === 'dateFilter_to') {
                    loadSavedDates();
                }
            });
            
            // Load saved filter dates on page load
            loadSavedDates();
        });
    </script>
</body>
</html>




